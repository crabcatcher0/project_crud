{% extends "nav.html" %}

{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'app_curd/css/home.css' %}">


  <!-- Welcome Section -->

  <div class="welcome-container" style="background: url('{% static "tjmcbg.png" %}') no-repeat center; background-size: cover;">
    <div class="card">
      <div>
        <h5 class="welcome-text">Triyuga Janata Multiple Campus</h5>
        <p>Gaighat-3, Udayapur</p>
      </div>
    </div>
  </div>
</div>

<div class="container mt-5">
  <div class="row">
    <!-- About Us Section -->
    <div class="col-md-6">
      <div class="about-container">
        <h2 class="mb-4" style="font-weight: bold;">About Us</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod euismod massa, id volutpat massa tempus ut.</p>
        <a href="{% url 'about_us' %}" class="explore-btn mt-4 mb-4" style="font-weight: bold;">
          <i class="fa-brands fa-wpexplorer fa-2x"></i>
          Explore
        </a>
      </div>
    </div>

    <!-- Our Mission Section -->
    <div class="col-md-6">
      <div class="about-container">
        <h2 class="mb-4" style="font-weight: bold;">Our Mission</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod euismod massa, id volutpat massa tempus ut.</p>
      </div>
    </div>
  </div>
</div>

 <!-- latest Events Section -->
<div class="container mt-4 mb-4">
  <h1 style="font-weight: bold;">Latest Events</h1>
  <p class="text-muted" style="text-transform: uppercase; font-weight: bold;">This is our latest events. Stay tuned for updates and happenings.</p>
  <div class="row" id="notice-container">
    {% for data in notice_data %}
    <div class="col-md-4 notice-card mb-2" style="background-color: #e9edf0;">
      <h5 class="card-header mt-2">{{ data.title }}</h5>
      <div class="card-body">
        <p class="card-text">{{ data.description|truncatechars:40 }}</p>
        <a href="{% url 'detail_notice' id=data.id %}" class="btn btn-primar" style="background-color: #2b4864; color: #fff;">View More</a>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<!-- Event Button -->
<div class="text-center mb-2">
  <a href="{% url 'notice' %}" class="custom-btn-primary">
    <i class="fas fa-list"></i> Events
  </a>
</div>
</div>

<!-- Leaders Section -->
<div class="content-container">
  <div class="section-header">
    <h2>Leaders and Administrators</h2>
    <p> MEET OUR LEADERSHIP AND ADMINISTRATORS </p>
  </div>
<div class="leaders-container" id="leaderContainer">
    {% for person in official_face %}
      <div class="leader-card">
        <img src="{{ person.image.url }}" alt="{{ person.name }}">
        <div class="leader-info">
          <h5>{{ person.name }}</h5>
          <p>{{ person.position }}</p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
   <div class="navigation-icons mb-4">
    <i class="fa-solid fa-circle-chevron-left" onclick="prevSlide()"></i>
    <i class="fa-solid fa-circle-chevron-right" onclick="nextSlide()"></i>
  </div>
</div>


<script>
// Leaderboard Carousel Script
    var leaderContainer = document.getElementById('leaderContainer'); // Get the container element
    var leaderCards = leaderContainer.getElementsByClassName('leader-card'); // Get all leader cards
    var currentSlide = 0; // Current slide index
    var totalSlides = leaderCards.length; // Total number of slides
    var slidesToShow = window.innerWidth <= 768 ? 1 : 3; // Number of slides to show based on window width

    // Function to display slides within the visible range
    function showSlides() {
        for (var i = 0; i < totalSlides; i++) {
            if (i < currentSlide || i >= currentSlide + slidesToShow) {
                leaderCards[i].style.display = 'none'; // Hide slides outside the visible range
            } else {
                leaderCards[i].style.display = 'flex'; // Display slides within the visible range
            }
        }
    }

    // Function to show a specific slide by index
    function showSlide(index) {
        if (index >= 0 && index <= totalSlides - slidesToShow) {
            currentSlide = index;
            showSlides();
        }
    }

    // Function to navigate to the next slide
    function nextSlide() {
        showSlide(currentSlide + 1);
    }

    // Function to navigate to the previous slide
    function prevSlide() {
        showSlide(currentSlide - 1);
    }

    // Initial setup: Display the initial set of slides
    showSlides();

    // Event listener for window resize to adjust the number of slides based on window width
    window.addEventListener('resize', function () {
        slidesToShow = window.innerWidth <= 768 ? 1 : 3; // Update slidesToShow based on window width
        showSlides();
    });

    // jQuery: Hide all notice cards except the first three
    $(document).ready(function () {
        $('#notice-container .notice-card:gt(2)').hide();
    });


</script>
{% endblock %}
